(()=>{var e={};e.id=3618,e.ids=[3618],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},61118:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>x,routeModule:()=>h,tree:()=>d});var t=a(73137),l=a(54647),n=a(4183),r=a.n(n),i=a(71775),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let c=t.AppPageRouteModule,d=["",{children:["dashboard",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,73380)),"C:\\Users\\akoto\\Desktop\\projects\\bss\\dash\\app\\dashboard\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,66938)),"C:\\Users\\akoto\\Desktop\\projects\\bss\\dash\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,79958)),"C:\\Users\\akoto\\Desktop\\projects\\bss\\dash\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["C:\\Users\\akoto\\Desktop\\projects\\bss\\dash\\app\\dashboard\\users\\page.tsx"],m="/dashboard/users/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new c({definition:{kind:l.x.APP_PAGE,page:"/dashboard/users/page",pathname:"/dashboard/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40036:(e,s,a)=>{Promise.resolve().then(a.bind(a,40208))},40208:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>q});var t=a(60080),l=a(79130),n=a(23161),r=a(68384),i=a(93303);function o({column:e,title:s,className:a}){return e.getCanSort()?t.jsx("div",{className:(0,n.cn)("flex items-center space-x-2",a),children:(0,t.jsxs)(i.h_,{children:[t.jsx(i.$F,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[t.jsx("span",{children:s}),"desc"===e.getIsSorted()?t.jsx(l.veu,{className:"ml-2 h-4 w-4"}):"asc"===e.getIsSorted()?t.jsx(l.Hf3,{className:"ml-2 h-4 w-4"}):t.jsx(l.jnn,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsxs)(i.AW,{align:"start",children:[(0,t.jsxs)(i.Xi,{onClick:()=>e.toggleSorting(!1),children:[t.jsx(l.Hf3,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),(0,t.jsxs)(i.Xi,{onClick:()=>e.toggleSorting(!0),children:[t.jsx(l.veu,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),t.jsx(i.VD,{}),(0,t.jsxs)(i.Xi,{onClick:()=>e.toggleVisibility(!1),children:[t.jsx(l.L52,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})}):t.jsx("div",{className:(0,n.cn)(a),children:s})}var c=a(49424),d=a(33478),x=a(6609),m=a(51839),u=a(9885),h=a(85325),p=a(68169),g=a(70589);function j({row:e}){let s=e.original,[a,n]=(0,u.useState)({state:!1,action:()=>{}}),[o,j]=(0,u.useState)({type:"",reason:""}),[f,v]=(0,h.useMutation)(p.Bf,{onCompleted(e){x.toaster.notify("Successful"),window.location.reload()},onError(e){x.toaster.danger("Error"),console.log(e,"data")},variables:{limit:50,page:0}}),[N,w]=(0,h.useMutation)(p.k3,{onCompleted(e){x.toaster.notify("Successful"),window.location.reload()},onError(e){x.toaster.danger("Error"),console.log(e,"data")},variables:{limit:50,page:0}}),[b,y]=(0,u.useState)([]),[C,S]=(0,u.useState)(""),[_,P]=(0,h.useLazyQuery)(p.y$,{onCompleted(e){console.log(e?.GetUserWarningStrikes),y(e?.GetUserWarningStrikes)},onError(e){x.toaster.danger("Error"),console.log(e,"data")}});return(0,u.useEffect)(()=>{_({variables:{limit:50,page:0,userId:s?._id}})},[s?._id,s]),(0,t.jsxs)(m.Vq,{children:[(0,t.jsxs)(i.h_,{children:[t.jsx(i.$F,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[t.jsx(l.nWS,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Open menu"})]})}),(0,t.jsxs)(i.AW,{align:"end",className:"w-[160px]",children:[t.jsx(m.hg,{asChild:!0,children:t.jsx(i.Xi,{children:"Warn user"})}),t.jsx(i.Xi,{disabled:!0,children:"Edit user"}),t.jsx(i.VD,{}),t.jsx(i.VD,{}),(0,t.jsxs)(i.Xi,{onClick:()=>n({...a,state:!0,action:()=>{}}),children:["Block User",t.jsx(i.KM,{children:"⌘⌫"})]})]}),(0,t.jsxs)(x.CornerDialog,{title:"Confirm Block",confirmLabel:w.loading?"loading":"Yes",intent:"danger",isShown:a.state,onCloseComplete:()=>{C&&n({...a,state:!1})},onConfirm:()=>{N({variables:{userId:s?._id,warningStrikeId:C}})},children:["Are your sure you want to perform this action",t.jsx("br",{}),t.jsx("br",{}),t.jsx(d._,{htmlFor:"name",className:"text-right mt-5",children:"Select Warning Strike"}),(0,t.jsxs)(g.Ph,{onValueChange:e=>{S(e)},children:[t.jsx(g.i4,{className:"w-[180px]",children:t.jsx(g.ki,{placeholder:"Warning Strike"})}),t.jsx(g.Bw,{children:P.loading?t.jsx(g.Ql,{value:"",disabled:!0,children:"Loading..."}):b.length<1?t.jsx(g.Ql,{value:"",disabled:!0,children:"No Data"}):b.map((e,s)=>t.jsx(g.Ql,{value:e?._id,children:e.reason},s))})]})]})]}),(0,t.jsxs)(m.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(m.fK,{children:[t.jsx(m.$N,{children:"Warn user"}),t.jsx(m.Be,{children:"Warn this user"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(d._,{htmlFor:"name",className:"text-right",children:"Type"}),t.jsx(c.I,{id:"name",defaultValue:"content, tip, hashtag, comment, all",className:"col-span-3",onChange:e=>j({...o,type:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[t.jsx(d._,{htmlFor:"username",className:"text-right",children:"Reason"}),t.jsx(c.I,{id:"username",defaultValue:"content policy",className:"col-span-3",onChange:e=>j({...o,reason:e.target.value})})]})]}),t.jsx(m.cN,{children:t.jsx(r.z,{type:"button",onClick:()=>{f({variables:{userId:s?._id,reason:o.reason,type:o.type}})},children:v.loading?"Loading":"Save changes"})})]})]})}let f=[{accessorKey:"_id",header:({column:e})=>t.jsx(o,{column:e,title:"ID"}),cell:({row:e})=>t.jsx("div",{className:"max-w-[50px] truncate",children:e.getValue("_id")}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:e})=>t.jsx(o,{column:e,title:"Name"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[300px] truncate font-medium",children:e.getValue("name")})})},{accessorKey:"email_admin",header:({column:e})=>t.jsx(o,{column:e,title:"Email"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("email_admin")})})},{accessorKey:"username",header:({column:e})=>t.jsx(o,{column:e,title:"username"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("username")})})},{accessorKey:"auth_type_admin",header:({column:e})=>t.jsx(o,{column:e,title:"auth_type"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("auth_type_admin")})})},{accessorKey:"platform",header:({column:e})=>t.jsx(o,{column:e,title:"Plaform"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("platform")})})},{accessorKey:"country",header:({column:e})=>t.jsx(o,{column:e,title:"country"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("country")})})},{accessorKey:"created_at",header:({column:e})=>t.jsx(o,{column:e,title:"Date"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("created_at")})})},{accessorKey:"birthday_admin",header:({column:e})=>t.jsx(o,{column:e,title:"Bithday"}),cell:({row:e})=>t.jsx("div",{className:"flex space-x-2",children:t.jsx("span",{className:"max-w-[500px] truncate font-medium",children:e.getValue("birthday_admin")})})},{id:"actions",cell:({row:e})=>t.jsx(j,{row:e})}];var v=a(11200),N=a(75629),w=a(54747);function b({table:e}){return(0,t.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,t.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[e.getFilteredSelectedRowModel().rows.length," of"," ",e.getFilteredRowModel().rows.length," row(s) selected."]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,t.jsxs)(g.Ph,{value:`${e.getState().pagination.pageSize}`,onValueChange:s=>{e.setPageSize(Number(s))},children:[t.jsx(g.i4,{className:"h-8 w-[70px]",children:t.jsx(g.ki,{placeholder:e.getState().pagination.pageSize})}),t.jsx(g.Bw,{side:"top",children:[10,20,30,40,50].map(e=>t.jsx(g.Ql,{value:`${e}`,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",e.getState().pagination.pageIndex+1," of"," ",e.getPageCount()]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(r.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to first page"}),t.jsx(l.kRt,{className:"h-4 w-4"})]}),(0,t.jsxs)(r.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to previous page"}),t.jsx(l.wyc,{className:"h-4 w-4"})]}),(0,t.jsxs)(r.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to next page"}),t.jsx(l.XCv,{className:"h-4 w-4"})]}),(0,t.jsxs)(r.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[t.jsx("span",{className:"sr-only",children:"Go to last page"}),t.jsx(l.yr4,{className:"h-4 w-4"})]})]})]})]})}let y=[{value:"email",label:"email"},{value:"google",label:"google"},{value:"apple",label:"apple"}],C=[{value:"android",label:"android"},{value:"ios",label:"ios"}];l.pjG,l.J$M,l.u0k,l.NhS,l.xrR,l.veu,l.LZ3,l.Hf3;var S=a(24796),_=a(10260),P=a(88042),k=a(30501);function V({column:e,title:s,options:a}){let i=e?.getFacetedUniqueValues(),o=new Set(e?.getFilterValue());return(0,t.jsxs)(P.J2,{children:[t.jsx(P.xo,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[t.jsx(l.SPS,{className:"mr-2 h-4 w-4"}),s,o?.size>0&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(k.Separator,{orientation:"vertical",className:"mx-2 h-4"}),t.jsx(S.C,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:o.size}),t.jsx("div",{className:"hidden space-x-1 lg:flex",children:o.size>2?(0,t.jsxs)(S.C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[o.size," selected"]}):a.filter(e=>o.has(e.value)).map(e=>t.jsx(S.C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:e.label},e.value))})]})]})}),t.jsx(P.yk,{className:"w-[200px] p-0",align:"start",children:(0,t.jsxs)(_.mY,{children:[t.jsx(_.sZ,{placeholder:s}),(0,t.jsxs)(_.e8,{children:[t.jsx(_.rb,{children:"No results found."}),t.jsx(_.fu,{children:a.map(s=>{let a=o.has(s.value);return(0,t.jsxs)(_.di,{onSelect:()=>{a?o.delete(s.value):o.add(s.value);let t=Array.from(o);e?.setFilterValue(t.length?t:void 0)},children:[t.jsx("div",{className:(0,n.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",a?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:t.jsx(l.nQG,{className:(0,n.cn)("h-4 w-4")})}),s.icon&&t.jsx(s.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),t.jsx("span",{children:s.label}),i?.get(s.value)&&t.jsx("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:i.get(s.value)})]},s.value)})}),o.size>0&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(_.zz,{}),t.jsx(_.fu,{children:t.jsx(_.di,{onSelect:()=>e?.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}var z=a(75051);function F({table:e}){return(0,t.jsxs)(i.h_,{children:[t.jsx(z.$F,{asChild:!0,children:(0,t.jsxs)(r.z,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[t.jsx(l.hsZ,{className:"mr-2 h-4 w-4"}),"View"]})}),(0,t.jsxs)(i.AW,{align:"end",className:"w-[150px]",children:[t.jsx(i.Ju,{children:"Toggle columns"}),t.jsx(i.VD,{}),e.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>t.jsx(i.bO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:s=>e.toggleVisibility(!!s),children:e.id},e.id))]})]})}var G=a(57114);function R({table:e}){let s=e.getState().columnFilters.length>0,a=(0,G.useSearchParams)(),n=a.get("id");return console.log(n),n&&e.getColumn("_id")?.setFilterValue(n),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[t.jsx(c.I,{placeholder:"search users...",value:e.getColumn("name")?.getFilterValue()??"",onChange:s=>e.getColumn("name")?.setFilterValue(s.target.value),className:"h-8 w-[150px] lg:w-[250px]"}),t.jsx(V,{column:e.getColumn("country"),title:"Country",options:[]}),t.jsx(V,{column:e.getColumn("device"),title:"Device",options:C}),t.jsx(V,{column:e.getColumn("auth_type_admin"),title:"Auth Type",options:y}),t.jsx(V,{column:e.getColumn("birthday"),title:"Age Group",options:[{label:"13-30",value:"13-30"},{label:"30-50",value:"30-50"},{label:"50+",value:"50-100"}]}),s&&(0,t.jsxs)(r.z,{variant:"ghost",onClick:()=>e.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",t.jsx(l.Pxu,{className:"ml-2 h-4 w-4"})]})]}),t.jsx("div",{children:t.jsx(F,{table:e})})]})}function D({columns:e,data:s}){let[a,l]=u.useState({}),[n,r]=u.useState({}),[i,o]=u.useState([]),[c,d]=u.useState([]),x=(0,v.b7)({data:s,columns:e,state:{sorting:c,columnVisibility:n,rowSelection:a,columnFilters:i},enableRowSelection:!0,onRowSelectionChange:l,onSortingChange:d,onColumnFiltersChange:o,onColumnVisibilityChange:r,getCoreRowModel:(0,N.sC)(),getFilteredRowModel:(0,N.vL)(),getPaginationRowModel:(0,N.G_)(),getSortedRowModel:(0,N.tj)(),getFacetedRowModel:(0,N.o6)(),getFacetedUniqueValues:(0,N.JG)()});return(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx(R,{table:x}),t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(w.iA,{children:[t.jsx(w.xD,{children:x.getHeaderGroups().map(e=>t.jsx(w.SC,{children:e.headers.map(e=>t.jsx(w.ss,{colSpan:e.colSpan,children:e.isPlaceholder?null:(0,v.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),t.jsx(w.RM,{children:x.getRowModel().rows?.length?x.getRowModel().rows.map(e=>t.jsx(w.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>t.jsx(w.pj,{children:(0,v.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):t.jsx(w.SC,{children:t.jsx(w.pj,{colSpan:e.length,className:"h-24 text-center",children:"No results."})})})]})}),t.jsx(b,{table:x})]})}var M=a(26815);function q(){let[e,s]=(0,u.useState)([]);return(0,h.useQuery)(M.nn,{onCompleted(e){s(e?.AdminGetUsers)},onError(e){console.log(e,"data")},variables:{limit:1e3,page:0}}),t.jsx("div",{className:"hidden h-full flex-1 flex-col space-y-8 p-8 md:flex",children:e&&t.jsx(D,{data:e,columns:f})})}},30501:(e,s,a)=>{"use strict";a.r(s),a.d(s,{Separator:()=>i});var t=a(60080),l=a(9885),n=a(22299),r=a(23161);let i=l.forwardRef(({className:e,orientation:s="horizontal",decorative:a=!0,...l},i)=>t.jsx(n.f,{ref:i,decorative:a,orientation:s,className:(0,r.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...l}));i.displayName=n.f.displayName},73380:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>r,__esModule:()=>n,default:()=>o});var t=a(17536);let l=(0,t.createProxy)(String.raw`C:\Users\akoto\Desktop\projects\bss\dash\app\dashboard\users\page.tsx`),{__esModule:n,$$typeof:r}=l,i=l.default,o=i}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4442,6885,7982,433,158,7082,2299,1200,6609,9370,6514,1499,6815,8169,4747,4796],()=>a(61118));module.exports=t})();